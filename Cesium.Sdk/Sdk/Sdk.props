<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup Label="SdkCustomization">
        <EnableDefaultItems>false</EnableDefaultItems>
    </PropertyGroup>

    <Import Project="Sdk.props" Sdk="Microsoft.NET.Sdk" />

    <PropertyGroup Label="DefaultProperties">
        <SkipCesiumCompilerInstallation Condition="$(SkipCesiumCompilerInstallation) == ''">false</SkipCesiumCompilerInstallation>
        <CesiumCompilerPackageName Condition="$(CesiumCompilerPackageName) == ''">Cesium.Compiler.Pack.$(NETCoreSdkRuntimeIdentifier)</CesiumCompilerPackageName>
        <CesiumCompilerPackageVersion Condition="$(CesiumCompilerPackageVersionPrefix) == ''">0.0.1</CesiumCompilerPackageVersion>
    </PropertyGroup>

    <ItemGroup Condition=" $(SkipCesiumCompilerInstallation) != 'true' ">
        <PackageReference Include="$(CesiumCompilerPackageName)"
                          Version="$(CesiumCompilerPackageVersion)"
                          GeneratePathProperty="true"
                          PrivateAssets="All"/>
    </ItemGroup>

    <PropertyGroup Label="PostInstallProperties">
        <CesiumCompilerPackagePath Condition="$(CesiumCompilerPackagePath) == '' AND $(PkgCesium_Compiler) != ''">$(PkgCesium_Compiler)</CesiumCompilerPackagePath>
        <CesiumCompilerPath Condition="$(CesiumCompilerPath) == '' AND $(CesiumCompilerPackagePath) != '' AND $(CesiumCompilerPackageName) != ''">
            $(CesiumCompilerPackagePath)/tools/$(CesiumCompilerPackageName)
        </CesiumCompilerPath>
        <CesiumCompilerPath Condition="$(CesiumCompilerPath) == '' AND $(CesiumCompilerPackagePath) != '' AND $(CesiumCompilerPackageName) != ''">
            $(CesiumCompilerPackagePath)/tools/$(CesiumCompilerPackageName).exe
        </CesiumCompilerPath>
    </PropertyGroup>

    <UsingTask TaskName="Cesium.Sdk.CesiumCompile"
               AssemblyFile="$(MSBuildThisFileDirectory)..\tools\Cesium.Sdk.dll"/>

</Project>
